


<!DOCTYPE html>
<html lang="en">
<head>

<title>Review Summary - PSS</title>


<title>Peninsula Short Stays - Reviews</title>

<meta charset="utf-8" /> <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- <meta name="description" content="We help every hotel brand compete for customers online" />
<meta name="dc.source" content="https://www.thehotelsnetwork.com/en/" />
<meta name="dc.title" content="The Hotels Network ‚Äì Get More Direct Bookings for Your Hotel" />
<meta name="dc.description" content="We help every hotel brand compete for customers online" />

<meta property="og:title" content="The Hotels Network ‚Äì Get More Direct Bookings for Your Hotel" />
<meta property="og:site_name" content="The Hotels Network"/>
<meta property="og:url" content="https://www.thehotelsnetwork.com/en/" />
<meta property="og:description" content="We help every hotel brand compete for customers online." /> -->

<!-- Pinterest -->
<!-- <meta name="p:domain_verify" content="c284c5befed8137fd0976a34895dcbfd"/>	 -->


    <meta name="robots" content="NOINDEX, FOLLOW" />
    <link rel="stylesheet" type="text/css" href="https://www.thehotelsnetwork.com/css/styles.reviews.css?v=1610357837">

    <link rel="stylesheet" type="text/css" href="https://www.thehotelsnetwork.com/css/ionicons.min.css" media="print" onload="this.media='all'; this.onload=null;">

     <!-- JQUERY PLUGINS CSS -->
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/themes/smoothness/jquery-ui.min.css" integrity="sha512-6hIK/QIcVBPVwUHCPu+gbnF2vYZ8a22s+DjjMyjnHBUaaZVZ15uvff9gPe7tiDgELdKZO9OFUJSsZG+lkUVGPg==" crossorigin="anonymous" media="print" onload="this.media='all'; this.onload=null;" />
    <link rel="stylesheet" href="https://www.thehotelsnetwork.com/js/libs/slick/slick.css"  media="print" onload="this.media='all'; this.onload=null;">
    <link rel="stylesheet" href="https://www.thehotelsnetwork.com/js/libs/rangepicker/daterangepicker.css" media="print" onload="this.media='all'; this.onload=null;">

    



<link rel="icon" href="/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="/img/favicons/apple-touch-icon-57x57-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/favicons/apple-touch-icon-72x72-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/favicons/apple-touch-icon-114x114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/favicons/apple-touch-icon-144x144-precomposed.png">

</head>
<body class="">

			<div id="widget_box" class="widget_box_min ">

				<div class="widget_bar pointer" onclick="toggle_box()" style="background-color: #D1F0EA">

					<span class="section_title">
						Reviews Summary 
					</span>

					<i class='toggle icon ion-chevron-down' ></i>
				</div>

				<!-- REVIEW SUMMARY -->
				<div id="thn_widget_content_reviews" class="widget_content" style='cursor: pointer;' >

					<div id="review_monitor_main" class="review_monitor_main">
						<div class="review_score" id="review_score">

							<div class="score">
								4.6<span class="max-score">/5</span>
								<div class="score_phrase">
									Excellent								</div>
							</div>
							
							<div class="based_on">
								                                <a href="javascript:;" style="color: #D1F0EA" title="Based on 3319 reviews" id="based_on_handler">
	                                Based on 3319 reviews                                </a>
							</div>

							<div class="discount"><span class='top'>TOP 1%</span> of Hotels in Victoria, Australia</div>
						</div>

						<div id="thn_widget_separator_reviews" class="widget_separator unseen "> </div>

						<div id="thn_widget_external_reviews" class="external_reviews unseen ">
																<div class="row external_review_line">
										<div class="col-xs-7 col-no-padding name">
                                            Facebook										</div>
										<div class="col-xs-5 col-no-padding review">
											<div class="external_review_score">
												4.9<span class="review_lite">/5</span>
											</div>
											                                                <div class="external_review_counter">
                                                    <span class="review_lite">129 reviews </span>
                                                </div>
																					</div>

									</div>
																	<div class="row external_review_line">
										<div class="col-xs-7 col-no-padding name">
                                            Google										</div>
										<div class="col-xs-5 col-no-padding review">
											<div class="external_review_score">
												4.6<span class="review_lite">/5</span>
											</div>
											                                                <div class="external_review_counter">
                                                    <span class="review_lite">385 reviews </span>
                                                </div>
																					</div>

									</div>
																	<div class="row external_review_line">
										<div class="col-xs-7 col-no-padding name">
                                            TripAdvisor                                                    <div class="thn_popover_container">
                                                        <i class="ion-information-circled js-thn_popover"></i>
                                                        <div class="thn_popover">
                                                            <span class="thn_popover_arrow"></span>
                                                            Excluded from global score                                                        </div>
                                                    </div>
                                                										</div>
										<div class="col-xs-5 col-no-padding review">
											<div class="external_review_score">
												4.5<span class="review_lite">/5</span>
											</div>
											                                                <div class="external_review_counter">
                                                    <span class="review_lite">1,764 reviews </span>
                                                </div>
																					</div>

									</div>
																	<div class="row external_review_line">
										<div class="col-xs-7 col-no-padding name">
                                            Booking.com										</div>
										<div class="col-xs-5 col-no-padding review">
											<div class="external_review_score">
												9.1<span class="review_lite">/10</span>
											</div>
											                                                <div class="external_review_counter">
                                                    <span class="review_lite">1,550 reviews </span>
                                                </div>
																					</div>

									</div>
																	<div class="row external_review_line">
										<div class="col-xs-7 col-no-padding name">
                                            Expedia										</div>
										<div class="col-xs-5 col-no-padding review">
											<div class="external_review_score">
												4.6<span class="review_lite">/5</span>
											</div>
											                                                <div class="external_review_counter">
                                                    <span class="review_lite">1,255 reviews </span>
                                                </div>
																					</div>

									</div>
														</div>

					</div>

					<div id="review_monitor_selector" class="review_monitor_selector" >
						<div class="subtitle">
							What kind of trip are you planning?						</div>

						<div class="types">
									
									<div onclick="see_review(1, true)" class="row type" >
										<div class="col-xs-7 name">
											Couple										</div>
										<div class="col-xs-5 arrow">
											<i class='toggle icon ion-chevron-right'></i>
										</div>
									</div>
										
									<div onclick="see_review(2, true)" class="row type" >
										<div class="col-xs-7 name">
											Friends										</div>
										<div class="col-xs-5 arrow">
											<i class='toggle icon ion-chevron-right'></i>
										</div>
									</div>
										
									<div onclick="see_review(3, true)" class="row type" >
										<div class="col-xs-7 name">
											Business										</div>
										<div class="col-xs-5 arrow">
											<i class='toggle icon ion-chevron-right'></i>
										</div>
									</div>
										
									<div onclick="see_review(4, true)" class="row type" >
										<div class="col-xs-7 name">
											Family										</div>
										<div class="col-xs-5 arrow">
											<i class='toggle icon ion-chevron-right'></i>
										</div>
									</div>
															<div class="separator"></div>
						</div>

					</div>	

					<div id="review_monitor_review" class="review_monitor_review">
								
								<div class="review" data-type_id="1" data-language="en">
									<div class="title">
										"Great stay"
									</div>
									<div class="body">
										Lovely new townhouse with a ground floor bedroom and 3 bathrooms. Had everything we needed for a family getaway. Very spacious rooms and two living areas so the kids could watch Netflix. 
										So convenient just off the freeway and walking distance to the beach and shops. 
										Highly recommend and will definitely be back.                                                                                      									</div>
									<div class="source">
										From Facebook									</div>
								</div>
									
								<div class="review" data-type_id="2" data-language="en">
									<div class="title">
										"Location,location,location."
									</div>
									<div class="body">
										Stayed over the Christmas Holiday, house was fantastic.
										Really nice layout with separate area upstairs, easy with kids and had everything we required for Xmas dinner with friends.
										Beautiful house and located close to Arthur's seat, Dromana beach and the shops.
										Highly recommend a stay here.
										Thanks for everything                                          									</div>
									<div class="source">
										From Facebook									</div>
								</div>
									
								<div class="review" data-type_id="1" data-language="en">
									<div class="title">
										"Excellent Hotel"
									</div>
									<div class="body">
										We stayed here for 3 nights just after New Years. Very well appointed and spacious properties.
										Premium appliances and fittings, luxury all the way.
										Beautiful outdoor courtyards- perfect for families or entertaining.
										We‚Äôll 100% be back- 10/10                                                                                      									</div>
									<div class="source">
										From Facebook									</div>
								</div>
									
								<div class="review" data-type_id="3" data-language="en">
									<div class="title">
										"Epic place "
									</div>
									<div class="body">
										Our family spent a fantastic week at the Peninsula Short Stays leading up to and Including the New Year.  The house is modern and well designed and was fully equipped for our every possible need. It was perfect for our family group of 6 adults and three children. The children enjoyed the second TV room upstairs while the adults enjoyed the wonderful entertaining area downstairs.  The enclosed back yard equipped with a BBQ was a favourite of us all. 
										The house is well situated for easy access to the beach, the shopping centre, also the Arthurs Seat chair lift. After spending a fantastic week over the New Year, there was only one thing that I could possibly want, and that is another week at Peninsular Short Stays.  We will be back.                                                                                      									</div>
									<div class="source">
										From Facebook									</div>
								</div>
									
								<div class="review" data-type_id="1" data-language="en">
									<div class="title">
										"Excellent location and a charming property"
									</div>
									<div class="body">
										Wow factor!!
										Brand new short stay development is next level!! Everything you need, close to everything, walking distance to the Dromana main beach, ice cream shop & fish & chips üëåüèª
										Catered not only for our family, but some of our extended family as well, with a bedroom on ground floor for grandparents üëçüèª                                                                                      									</div>
									<div class="source">
										From Facebook									</div>
								</div>
									
													<div class="no_review unseen">
							There are no reviews available						</div>
					</div>
					
					<div class="languages unseen">
								
								<a class="language pointer" onclick="set_language('en', 'English')" data-lang_code="en">English</a>
												</div>

					<!-- <div id="info_box" class="info_box" >
						<a  href="https://www.thehotelsnetwork.com/" target="_blank">
							<div class="frame" style="background-color: #aa8c56;">
								Get this widget for your own website							</div>
						</a>
						<div class="powered_by">

															<a  href="https://www.thehotelsnetwork.com/?utm_source=widget&utm_medium=referral" target="_blank"><img src="https://www.thehotelsnetwork.com/img/powered_by_thn.png" /></a>
							
							<div class="powered_by_footer">
								<a style="color: #aa8c56" class="widget_link" href="#" onclick="toggle_info(event);" ><i class='toggle icon ion-chevron-left'></i> Back</span></a>
							</div>
						</div>
					</div> -->

					<div id="thn_widget_footer_reviews" class="widget_footer unseen ">
						<a style="color: #aa8c56" id="see_reviews_button" class="widget_link " href="#" onclick="see_reviews();" >See reviews for you<i class='toggle icon ion-chevron-right'></i></span></a>
					</div>
					
				</div>

				<div id="thn_widget_bottom_arrow" class="widget_bottom_arrow unseen">
					<span class="toggle icon ion-chevron-down"></span>
					<div class="widget_bottom_arrow_gradient"> </div>
				</div>

			</div>

			

	<div id="widget_visibility_closed_box" class="">
		
				<div onclick="toggle_box()" id="widget_closed" class="widget_closed_min unseen" style="background-color: #D1F0EA;">
					<div class="shadow_box">
						<span class="text">Reviews Summary</span>
						<span class="toggle icon ion-plus-round"></span>
					</div>
				</div>

				
	</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js" integrity="sha512-epzJ9ms+0Pq+zFMrG1lXVNvjEXgtfKx9iuEWqz3hmbaU2m/Dp1pcmpYzuSdDLqX6PMIjzMOyGFwMc+SkgFhMFg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js" integrity="sha512-kHKdovQFIwzs2NABJSo9NgJKZOrRqLPSoqIumoCkaIytTRGgsddo7d0rFyyh8RvYyNNKcMF7C9+4sM7YhMylgg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.11.0/underscore-min.min.js" integrity="sha512-q8IX4DLPrQtWXgyxf1SQ9rfpSWDbS+9/f5nuPedYAcQogC8A1YsMX6IuI6PZB+lPTFDpy78lnC5bwEDoL1rtTw==" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://www.thehotelsnetwork.com/js/utils.js"></script>
<script type="text/javascript" src="https://www.thehotelsnetwork.com/js/php.js"></script>

<!-- BOOTSTRAP -->
<script type="text/javascript" src="https://www.thehotelsnetwork.com/js/libs/bootstrap.min.js"></script>

<!-- JQUERY PLUGINS -->
<script type="text/javascript" src="https://www.thehotelsnetwork.com/js/libs/rangepicker/moment.min.js"></script>



<script>
  	// Popup info
	// This object contains the info of the popup that was loaded.
	// This is just its initialization. It will be filled on the "init" method
	var popup = {
		validation: {
			email: false,
			terms: false,
		}
	};

	// Format popup data variables
	function format_data() {

		if (popup.content_type) {
			popup.content = popup.content_type;
			delete popup.content_type;
		}
	}

	function validate_form() {
		var valid_form = popup.validation.email && popup.validation.terms;
		$('.popup_container .button_ok').prop('disabled', !valid_form);
	}

	// IMPORTANT: This function can be called from both Save Search and Subscribe popups content
	function init_form_validation() {

		// Listen to user input events
		$('.popup_container .email').on('keyup', function (e) {

			// Update all the email fields with the same value (Desktop - Mobile views)
			$('.popup_container .email').not(this).val(e.target.value);

			popup.validation.email = e.target.checkValidity();

            validate_form();
		});

		// If terms are displayed, listen to checkbox changes
		// For save_search content they don't need to be check to validate the form. Do not listen.
  
		if ($('.terms_conditions .terms').length 
			&& popup.content !== 'save_search') {

			$('.terms_conditions .terms').on('change', function (e) {

				// Check other checkboxes but this one (Desktop - Mobile views)
				$('.terms_conditions .terms').not(this).prop('checked', $(this).is(":checked"));
			    
				popup.validation.terms = $(this).is(":checked");

                validate_form();
			});

		} else {
			// Simply mark them as valid
			popup.validation.terms = true;
		}
	}


	function add_widget_action(form) {

		
			var form_class = $(form).attr('class');
			var $form_obj = $("." + form_class + ':visible');
			var json = $form_obj.serializeObject();

			// Terms & Conds
			json.terms_accepted = $('.terms_conditions:visible .terms').is(':checked') ? 1 : 0;

			if (typeof get_URL_param == 'function') {
				json.language = get_URL_param('lang');
			} else {
				json.language = 'en';
			}

			$(window).trigger('resize');

			// Widget type
			var widget_type;
			switch (json.popup_type) {
				case '31':
					widget_type = 'exit';
					break;
				case '32':
					widget_type = 'welcome';
					break;
				default:
					break;
			}

			var referrer = (window.top !== window.self) ? (document.referrer || '*') : document.location;						
			parent.postMessage({
				action: 'send_event',
				widget: widget_type,
				payload: {
					event: 'click',
					link_url: ''
				}
			}, referrer);

			// Post AJAX method
			var method;
			var widget_content;
			switch (form_class) {
				case 'form_save_search':
					method = 'add_widget_saved_search';
					widget_content = 'save_search';
					break;
				case 'form_subscribe':
					method = 'add_widget_subscribe';
					widget_content = 'subscribe';
					break;
				default:
					// Can't refer to a default method as it could break the controller logic
					break;
			}

			if (method && widget_type) {
				ajaxm('widget', method, json,
				{
					button: $('.' + form_class + ':visible button[type=submit]'),
				},
				function(output){
					if(is_json(output)) {
						output = $.parseJSON('[' + output + ']');
						
						//Successfull Request.
						if(output[0].result == 1) {
							update_popup_view(true, widget_content, json.promocode);
						} 
						else update_popup_view(false, widget_content, json.promocode);
						
					} else update_popup_view(false, widget_content, json.promocode);
					$(window).trigger('resize');
				});
			}

		
		return false;

	}

	/**
	 * Update the popup according to the status received by the controller
	 * 
	 * status 			{boolean}
	 * widget_content 	{string} Admin popup content (subscribe, save_search..)
	 * promocode 			{string} Promocode string configured for this popup (if any)
	 */
	function update_popup_view(status, widget_content, promocode) {

		if (status) {
			// All good, replace texts
            // Using double comma preventing from breaking translations
			$('.popup_container .title').html("Thank you!");
			$('.popup_container .text').html("Your email address has been successfully added to our list.");
			if (promocode) {
				$('.popup_container .button_close').html("Apply promocode");
			}
			$('.form_' + widget_content + ', .' + widget_content + '_error').addClass('unseen');
			$('.' + widget_content + '_success').removeClass('unseen');
		} else {
			// Something went wrong..
			$('.' + widget_content + '_success').addClass('unseen');
			$('.' + widget_content + '_error').removeClass('unseen');
		}

		var referrer = document.location;
		if (window.location !== window.parent.location) {
			if (document.referrer && document.referrer != "") {
				referrer = document.referrer;
			} else if (document.location && document.location.ancestorOrigins && document.location.ancestorOrigins.length > 0) {
				referrer = document.location.ancestorOrigins[0];
			}
		}

		// Send message to our script so it calculates the new iframe position
		// after showing the error messages (as it gets higher).
		parent.postMessage('trigger_on_window_change', referrer);
	}

	// Set the terms and conditions link
	function set_terms_url() {
		// If it's not a link/url, set the href to our custom page where we'll show the custom terms
		if (popup.terms && !popup.terms.is_url) {
			var base_url = 'https://www.thehotelsnetwork.com/';
			// Set "property_id" param for hotel, "user_id" for corpo.
			var id_param;
		
							id_param = 'property_id=' + '1011314';
			
			var lang = 'en';

			$('.terms_conditions .thn__checkbox .thn__terms_link').attr('href',
				base_url +
				'tool-terms?aux_id=' + popup.id +
				'&type=' + popup.type_id +
				'&' + id_param +
				'&language=' + lang +
				'&s=default');
		}
	}

	// Initialize all the required things related to the Subscribe widget
	function init_popup() {

		// Get the popup data from the current loadad widget variable
		
		if (data) {
			// Fill the already popup object with the newly received info
			Object.assign(popup, data);

			// Format popup variables for a better understanding
			format_data();
			
			// Validate email and terms
			init_form_validation();

			// Set the new Terms&Conds link
			set_terms_url();
		} 
	}

</script>

<script type="text/javascript">

	// parameters
	var wdgt_pstn = "LL";
	var init_toggle = false;
	var is_mobile = false;
	var is_tablet = false;
	var status = '';
	var current_url = 'hotel-review-monitor-widget';
	var config = {
		height: Number.MAX_VALUE,
		width: Number.MAX_VALUE,
		style: null	};

	// internal variables
	var close_timeout,
		$html,
		$body,
		$widget_box,
		$widget_closed,
		$widget_suplementary_box,
		$scroll_box,
		$widget_phone_closed_bottom,
		$review_monitor_review,
		initialized = false;

	function generator(name) {
		return function () {
			return ((model[config.style] && model[config.style][name]) || model.standard[name])();
		};
	}

	var accessors = [
		'width_offset', 'height_offset', 'viewport_width', 'viewport_height',
		'viewport_vertical_distance', 'viewport_horizontal_distance',
		'widget_is_open', 'widget_height', 'widget_width',
		'vertical_position_property', 'horizontal_position_property',
		'html_align_value'
	];
	// config accessors
	for (var i = 0; i < accessors.length; i += 1) {
		window[accessors[i]] = generator(accessors[i]);
	};

	// sizing + look & feel configurations
	var model = {
		// default
		standard: {
			width_offset: function () {
				return 0;
			},
			viewport_vertical_distance: function () {
				return undefined;
			},
			viewport_horizontal_distance: function () {
				return undefined;
			},
			height_offset: function () {
				return widget_is_open() && $widget_phone_closed_bottom.is(':visible') ?
					$widget_phone_closed_bottom.outerHeight() + 10 : 0;
			},
			viewport_height: function () {
				return config.height;
			},
			viewport_width: function () {
				return config.width;
			},
			widget_is_open: function () {
				return $widget_box.is(":visible");
			},
			widget_height: function () {
				return $body.height() + height_offset();
			},
			widget_width: function () {
				return $body.width() + width_offset();
			},
			vertical_position_property: function () {
				return undefined;
			},
			horizontal_position_property: function () {
				return undefined;
			},
			html_align_value: function () {
				return 'center';
			}
		},
		/* special models (not defined fallsback to standard) */
		// phone right side
		phone_right_side: {
			width_offset: function () {
				// unexpected line break between icon & "Compare prices"
				// fix hack: give extra width, and move to the right
				return !widget_is_open() ? 5 : 0;
			},
			viewport_vertical_distance: function () {
				return widget_is_open() ? 30 : 100;
			},
			viewport_horizontal_distance: function () {
				return -width_offset();
			},
			viewport_height: function () {
				return config.height - (2 * viewport_vertical_distance());
			},
			horizontal_position_property: function () {
				return 'right';
			},
			vertical_position_property: function () {
				return 'bottom';
			},
			html_align_value: function () {
				return 'left';
			}
		},
	};
	// phone_right_side_bottom
	model.phone_right_side_bottom = $.extend({}, model.phone_right_side);
	// phone_right_side_middle
	model.phone_right_side_middle = $.extend({}, model.phone_right_side);
	model.phone_right_side_middle.viewport_vertical_distance = function () {
		if (widget_height() > config.height) {
			// when the widget doesn't fit on the screen for sure
			return model.phone_right_side.viewport_vertical_distance();
		} else {
			// when the widget fits on the screen
			// bottom or top distance is ((half the device) - (half the widget))
			return Math.abs((config.height / 2) - ((widget_height()) / 2));
		}
	};
	// phone_rigth_side_top
	model.phone_right_side_top = $.extend({}, model.phone_right_side);
	model.phone_right_side_top.vertical_position_property = function () {
		return 'top';
	};
	// phone_left_side
	model.phone_left_side = $.extend({}, model.phone_right_side);
	model.phone_left_side.horizontal_position_property = function () {
		return 'left';
	};
	model.phone_left_side.html_align_value = function () {
		return 'right';
	};
	// phone_left_side_bottom
	model.phone_left_side_bottom = $.extend({}, model.phone_left_side);
	// phone_left_side_middle
	model.phone_left_side_middle = $.extend({}, model.phone_left_side);
	model.phone_left_side_middle.viewport_vertical_distance = model.phone_right_side_middle.viewport_vertical_distance;
	// phone_rigth_side_top
	model.phone_left_side_top = $.extend({}, model.phone_left_side);
	model.phone_left_side_top.vertical_position_property = model.phone_right_side_top.vertical_position_property;

	window.onload = function() {

		$html = $('html');
		$body = $('body');
		$widget_box = $('#widget_box', $body);
		$widget_closed = $('#widget_closed', $body);
		$widget_suplementary_box = $('#widget_suplementary_box', $body);
		$conditions_box = $('#conditions_box', $body);
		$scroll_box = $('#scroll_box', $widget_box),
		$widget_phone_closed_bottom = $('.widget_phone_closed_bottom', $widget_box);
		$review_monitor_review = $('#review_monitor_review', $scroll_box);

		// can we take this to css files?
		if (!window.location.search.match(/debug=/)) {
			$body.css('display', 'inline-block');
			$html.css('text-align', html_align_value());
			// remove padding to USD, GBP currencies
			$('span.currency').filter(function () {
				return this.textContent === '$' ||
					this.textContent === '¬£';
			}).css({
				'padding-right': 0,
				'padding-left': 0
			});
		}

		// do we need this??
		original_width = $widget_box.css("width");

		if (is_mobile && !is_tablet) {
			$html.css('background-color', 'white');
			if (viewport_width() !== Number.MAX_VALUE) {
				// note: min-width is overriden on phone_side style: "0 !important"
				$body.css('min-width', viewport_width());
			}
			$widget_box.css('min-width', Math.min(viewport_width(), $body.width()));
			$scroll_box.css('height', Math.min(viewport_height(), $body.height()));
		}

		resize({first_time: true, data: ((typeof data != "undefined") ? data : {})});

		// In mobile close the widget ASAP (or if it's showed with the "init toggle" flag)
		if (init_toggle || (is_mobile && !is_tablet)) {
			toggle_box();
		}

				if ($("body").height() != 0) {
			close_timeout = setTimeout(function() { toggle_box(true); }, 15000);
		}
		
		//Register the close action
		window.addEventListener('message', function process_event(event) {
			if (event.data.action === 'close' && widget_is_open()) {
				toggle_box(true);
			} else if (event.data.action === 'reconfigure' && event.data.params) {
				$.extend(config, event.data.params);
				resize();
			} else if (event.data.action === 'repaint') {
				repaint();
			}
		});

		initialized = true;
	}

	function repaint() {
		// TESTING HACK: we need to force repaint on mobiles :/
		$widget_box.toggle(0).toggle(0);
	}

	function resize(opt) {

		// important: reset scrollbox
		$scroll_box.css('height', 'auto');

		// If resizing, make sure here that min-width is not > viewport_width()
		// this is specially important on "orientationchange" events
		if (is_mobile && !is_tablet && viewport_width() !== Number.MAX_VALUE) {
			$body.css('min-width', viewport_width());
			// this min-width can't be greater than viewport_width()
			$widget_box.css('min-width', Math.min($widget_box.css('min-width').slice(0, -2), viewport_width()));
		}

		// configure reviews monitor secondary scroll
		if ($review_monitor_review.length && $review_monitor_review.is(':visible')) {
			var occupied = 0;
			$scroll_box.children(':visible:not(.review_monitor_review), .languages').each(function (idx, el) { occupied += $(el).outerHeight(true); });
			$review_monitor_review.css('max-height', viewport_height() - occupied - height_offset());
		}

		var defaults = {
			action: 'resize',
			current_url: current_url,
			status: status,
			width: Math.min(viewport_width(), widget_width()),
			height: Math.min(viewport_height(), widget_height()),
			first_time: false
		};

		// phone_side
		if (horizontal_position_property()) {
			defaults[horizontal_position_property()] = viewport_horizontal_distance();
		}
		if (vertical_position_property()) {
			defaults[vertical_position_property()] = viewport_vertical_distance();
		}

		// configure scrollbox
		if (widget_is_open()) {
			$scroll_box.css('height', Math.min(viewport_height() - height_offset(), $body.height()));
		}

		// Obtain current URL in case we're seeing tool as a page, not as a iframed page
		var referrer = document.location;
		if (window.top !== window.self) {
			// In case we're inside a iframe, try to obtain the referrer
			// if we can't obtain the referrer URL, we assign the wildcard value as a referrer
			referrer = document.referrer || '*';
		}

		parent.postMessage(
			opt ? $.extend({}, defaults, opt) : defaults,
			referrer
		);
	}

	function toggle_box(force_close) {

		if (initialized) {
			$body.addClass('touched');
		}

		if (widget_is_open() || force_close === undefined || !force_close) {

			clearTimeout(close_timeout);

			$widget_box.toggle();
			$widget_closed.toggle();
			$widget_suplementary_box.toggle();

			if (is_mobile && !is_tablet) {
				$html.css('background-color', widget_is_open() ? 'white' : 'transparent');
			}

			resize();
		}
	}

	function terms_and_conditions(state) {
		if (state == "show") {
			$("#conditions_box").css("max-height", Math.max(512, widget_height()) + "px");
		}
		$widget_box.toggle();
		$widget_suplementary_box.toggle();
		$conditions_box.toggle();

		resize();
	}

</script>
<script>
var language = "en";
var type = 0;
var original_width = 0; //Setted on end.php
var is_mobile = false;

$(document).ready(function() {

	//mixpanel.track("review-monitor", {'hotel_id': '1076464', 'page_id': '1034448'});

	
		$("#thn_widget_content_reviews, #thn_widget_bottom_arrow").click(function() {

			$("#thn_widget_separator_reviews").removeClass("unseen");
			$("#thn_widget_external_reviews").removeClass("unseen");
			$("#thn_widget_footer_reviews").removeClass("unseen");

			$("#thn_widget_content_reviews").unbind("click");
			$("#thn_widget_content_reviews").css("cursor", "auto");

			// restore the visual effects for the "semi" mode
			$("#thn_widget_bottom_arrow").addClass("unseen");
			$("#thn_widget_content_reviews").removeClass("no_padding_bottom");
            $('#based_on_handler').show();

            resize();
		});

		$("#thn_widget_bottom_arrow").removeClass("unseen");
		$('#based_on_handler').hide();
		
		$('#widget_box').hover(function() {
			$('#thn_widget_bottom_arrow .widget_bottom_arrow_gradient').css("opacity", "1");
			$('#thn_widget_bottom_arrow span').css("color", "#444444");
		}, function() {
			$('#thn_widget_bottom_arrow .widget_bottom_arrow_gradient').css("opacity", "0");
			$('#thn_widget_bottom_arrow span').css("color", "#DDDCDC");
		});

	
});

function set_language(lang_code, lang){
	$(".no_review").html("There aren't any reviews in " + lang);
	language = lang_code;
	see_review(type);
}

//Toggle Info Button Functionality
function toggle_info(event) {

	if (!is_mobile) {
		//Resize width only if we're not in mobile
		$("#widget_box").css("width", original_width);
	}

	if ( $("#info_box").is(":visible") ) {

		$("#review_monitor_main").show();
		$(".languages").show();
		$("#review_monitor_selector").hide();
		$("#review_monitor_review").hide();

					$("#see_reviews_button").html("See reviews for you <i class='toggle icon ion-chevron-right'></i>");
			$("#see_reviews_button").show();
				$("#info_box").hide();
		$(".languages").hide();
	} else {

		$("#review_monitor_main").hide();
		$(".languages").hide();
		$("#review_monitor_selector").hide();
		$("#review_monitor_review").hide();

		$("#info_box").show();
		$("#see_reviews_button").hide();
	}

	event.stopPropagation();
	resize();
}

var see_reviews_button_hide;
// see reviews sources based on
$('#based_on_handler').click(function() {
    $('#thn_widget_external_reviews').addClass('reviews_by_source');
    $('#review_score, #thn_widget_separator_reviews').hide();
    var $see_reviews_button = $("#see_reviews_button");
    
    // Save init state of see_reviews_button
    see_reviews_button_hide = $see_reviews_button.hasClass('unseen');
    
    $see_reviews_button.html("<i class='toggle icon ion-chevron-left'></i> Back");
    $see_reviews_button.removeClass('unseen');
    event.stopPropagation();
	resize();
});


// Popups handler
$('.js-thn_popover').hover(function(){
    $(this).siblings('.thn_popover').first().toggleClass('thn_popover_visible');
});


function see_reviews() {
    // Check if see reviews button was hidden at the beginning
    if(see_reviews_button_hide) {
        $("#see_reviews_button").addClass('unseen');
    }
    
	//Review Summary
	if ( $("#review_monitor_review").is(":visible") ) {
		if (!is_mobile) {
			//Resize width only if we're not in mobile ?>
			$("#widget_box").css("width", original_width);
		}

		$("#review_monitor_main").hide();
		$("#review_monitor_selector").show();
		$("#review_monitor_review").hide();
		$("#see_reviews_button").html("<i class='toggle icon ion-chevron-left'></i> Back");
	}

	//Review Summary
	else if ( $("#review_monitor_main").is(":visible") ) {
        // when we see total reviews by provider
	    if($('#thn_widget_external_reviews').hasClass('reviews_by_source')) {
	        $('#thn_widget_external_reviews').removeClass('reviews_by_source');
            $('#review_score, #thn_widget_separator_reviews').show();
            $("#see_reviews_button").html("See reviews for you <i class='toggle icon ion-chevron-right'></i></span>");

        } else {
            // regular case
            $("#review_monitor_main").hide();
            $("#review_monitor_selector").show();
            $("#see_reviews_button").html("<i class='toggle icon ion-chevron-left'></i> Back");
        }

	} 
	//See Main Review Page
	else {
		$("#review_monitor_main").show();
		$("#review_monitor_selector").hide();

		$("#see_reviews_button").html("See reviews for you <i class='toggle icon ion-chevron-right'></i></span>");
		
		//mixpanel.track("review-monitor", {'hotel_id': '1076464', 'page_id': '1034448'});
	}
	$(".languages").hide();
	
	resize();
	
}

function see_review(type_id, en_if_missing) {
	if (typeof(en_if_missing) == "undefined") en_if_missing = false;
	type = type_id;

	if (!is_mobile) {
		//Resize width only if we're not in mobile ?>
		$("#widget_box").css("width", "500px");
	}

	//Prepare the right screen
	$("#review_monitor_main").hide();
	$("#review_monitor_selector").hide();
	$("#review_monitor_review").show();
	$(".review_monitor_review .review").hide();

	//Show the reviews only if we have at least one
	if($(".review_monitor_review .review[data-type_id='" + type_id +  "'][data-language='" + language + "']").length > 0){
		$(".no_review").hide();
		$(".review_monitor_review .review[data-type_id='" + type_id +  "'][data-language='" + language + "']").show();
	}
	else if (en_if_missing && $(".review_monitor_review .review[data-type_id='" + type_id +  "'][data-language='en']").length > 0){ // If not but there's some english review, show it
		$(".no_review").hide();
		$(".review_monitor_review .review[data-type_id='" + type_id +  "'][data-language='en']").show();
		language = "en";
	} else $(".no_review").show();

	$("#see_reviews_button").html("<i class='toggle icon ion-chevron-left'></i>Back to review summary");
	
	//Show Languages
			$(".languages a").removeClass("language_selected");
		$(".languages a[data-lang_code=" + language + "]").addClass("language_selected");	

		$(".languages").show();
		if($(".languages a:visible").length == 0) $(".languages").hide();
	
	resize();
	
	//mixpanel.track("review-monitor-texts", {'hotel_id': '1076464', 'page_id': '1034448', 'type_id': type_id});
	
}
</script>
</body>
</html>
